(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2f0c88"],{"161e":function(t,n,e){t.exports=e("b825")},"42e3":function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"E",(function(){return s})),e.d(n,"O",(function(){return r})),e.d(n,"m",(function(){return a})),e.d(n,"o",(function(){return d})),e.d(n,"e",(function(){return l})),e.d(n,"q",(function(){return h})),e.d(n,"t",(function(){return u})),e.d(n,"u",(function(){return c})),e.d(n,"z",(function(){return A})),e.d(n,"C",(function(){return f})),e.d(n,"A",(function(){return m})),e.d(n,"L",(function(){return p})),e.d(n,"M",(function(){return g})),e.d(n,"K",(function(){return b})),e.d(n,"P",(function(){return x})),e.d(n,"Q",(function(){return v})),e.d(n,"I",(function(){return y})),e.d(n,"k",(function(){return k})),e.d(n,"B",(function(){return T})),e.d(n,"v",(function(){return E})),e.d(n,"s",(function(){return w})),e.d(n,"r",(function(){return C})),e.d(n,"w",(function(){return I})),e.d(n,"p",(function(){return L})),e.d(n,"l",(function(){return S})),e.d(n,"G",(function(){return H})),e.d(n,"H",(function(){return N})),e.d(n,"c",(function(){return _})),e.d(n,"b",(function(){return B})),e.d(n,"f",(function(){return M})),e.d(n,"F",(function(){return O})),e.d(n,"x",(function(){return j})),e.d(n,"N",(function(){return D})),e.d(n,"D",(function(){return $})),e.d(n,"n",(function(){return P})),e.d(n,"J",(function(){return R})),e.d(n,"i",(function(){return z})),e.d(n,"d",(function(){return U})),e.d(n,"g",(function(){return W})),e.d(n,"h",(function(){return Y})),e.d(n,"j",(function(){return V})),e.d(n,"y",(function(){return F}));var i=e("6b6c");function o(t){return Object(i["a"])({url:"/login",method:"post",data:t,kefu:!0})}function s(t){return Object(i["a"])({url:"/user/record",method:"get",params:t,kefu:!0})}function r(t){return Object(i["a"])({url:"/user/info/"+t,method:"get",kefu:!0})}function a(t,n){return Object(i["a"])({url:"/order/list/"+t,method:"get",params:n,kefu:!0})}function d(t,n){return Object(i["a"])({url:"/order/delivery/"+t,method:"post",data:n,kefu:!0})}function l(t,n){return Object(i["a"])({url:"/order/update/".concat(t),method:"put",data:n,kefu:!0})}function h(t){return Object(i["a"])({url:"order/edit/"+t,method:"get",kefu:!0})}function u(t){return Object(i["a"])({url:"order/refund_form/"+t,method:"get",kefu:!0})}function c(t){return Object(i["a"])({url:"order/refund",method:"post",data:t,kefu:!0})}function A(t,n){return Object(i["a"])({url:"product/cart/"+t,method:"get",params:n,kefu:!0})}function f(t,n){return Object(i["a"])({url:"product/visit/"+t,method:"get",params:n,kefu:!0})}function m(t,n){return Object(i["a"])({url:"product/hot/"+t,method:"get",params:n,kefu:!0})}function p(t){return Object(i["a"])({url:"service/speechcraft",method:"get",params:t,kefu:!0})}function g(t){return Object(i["a"])({url:"service/transfer_list",method:"get",params:t,kefu:!0})}function b(t){return Object(i["a"])({url:"service/transfer",method:"post",params:t,kefu:!0})}function x(t){return Object(i["a"])({url:"user/label/".concat(t),method:"get",kefu:!0})}function v(t,n){return Object(i["a"])({url:"user/label/".concat(t),method:"put",data:n,kefu:!0})}function y(t){return Object(i["a"])({url:"service/list",method:"get",params:t,kefu:!0})}function k(){return Object(i["a"])({url:"/key",method:"get",kefu:!0})}function T(t){return Object(i["a"])({url:"product/info/".concat(t),method:"get",kefu:!0})}function E(t){return Object(i["a"])({url:"/order/remark",method:"post",data:t,kefu:!0})}function w(t){return Object(i["a"])({url:"/order/info/"+t,method:"get",kefu:!0})}function C(){return Object(i["a"])({url:"/order/export",method:"get",kefu:!0})}function I(t){return Object(i["a"])({url:"/order/temp",method:"get",params:t,kefu:!0})}function L(){return Object(i["a"])({url:"/order/delivery_all",method:"get",kefu:!0})}function S(){return Object(i["a"])({url:"/order/delivery_info",method:"get",kefu:!0})}function H(t){return Object(i["a"])({url:"/service/cate",method:"get",params:t,kefu:!0})}function N(t,n){return Object(i["a"])({url:"service/speechcraft/"+t,method:"PUT",params:n,kefu:!0})}function _(t){return Object(i["a"])({url:"service/speechcraft",method:"post",data:t,kefu:!0})}function B(t){return Object(i["a"])({url:"service/cate",method:"post",data:t,kefu:!0})}function M(t,n){return Object(i["a"])({url:"service/cate/"+t,method:"PUT",params:n,kefu:!0})}function O(t,n){return Object(i["a"])({url:"scan/"+t,method:"get",params:n,kefu:!0})}function j(t){return Object(i["a"])({url:"/order/verific/".concat(t),method:"get",kefu:!0})}function D(){return Object(i["a"])({url:"user/group",method:"get",kefu:!0})}function $(t,n){return Object(i["a"])({url:"user/group/".concat(t,"/").concat(n),method:"put",kefu:!0})}function P(){return Object(i["a"])({url:"config",method:"get",kefu:!0})}function R(t){return Object(i["a"])({url:"tourist/user",method:"get",params:t,kefu:!0})}function z(){return Object(i["a"])({url:"tourist/adv",method:"get",kefu:!0})}function U(t){return Object(i["a"])({url:"tourist/chat",method:"get",params:t,kefu:!0})}function W(){return Object(i["a"])({url:"tourist/feedback",method:"get",kefu:!0})}function Y(t){return Object(i["a"])({url:"tourist/feedback",method:"post",data:t,kefu:!0})}function V(t,n){return Object(i["a"])({url:"tourist/order/".concat(t),method:"get",params:n,kefu:!0})}function F(t){return Object(i["a"])({url:"tourist/product/".concat(t),method:"get",kefu:!0})}},b825:function(t,n,e){!function(n,e){t.exports=e()}(window,(function(){return function(t){var n={};function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(i,o,function(n){return t[n]}.bind(null,o));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/lib/",e(e.s=0)}([function(t,n,e){"use strict";function i(t,n,e,i,o,s,r,a,d,l){"boolean"!=typeof r&&(d=a,a=r,r=!1);const h="function"==typeof e?e.options:e;let u;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,o&&(h.functional=!0)),i&&(h._scopeId=i),s?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,d(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=u):n&&(u=r?function(t){n.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){n.call(this,a(t))}),u)if(h.functional){const t=h.render;h.render=function(n,e){return u.call(e),t(n,e)}}else{const t=h.beforeCreate;h.beforeCreate=t?[].concat(t,u):[u]}return e}e.r(n);const o="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function s(t){return(t,n)=>function(t,n){const e=o?n.media||"default":t,i=a[e]||(a[e]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);let e=n.source;if(n.map&&(e+="\n/*# sourceURL="+n.map.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",n.media&&i.element.setAttribute("media",n.media),void 0===r&&(r=document.head||document.getElementsByTagName("head")[0]),r.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(e),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{const t=i.ids.size-1,n=document.createTextNode(e),o=i.element.childNodes;o[t]&&i.element.removeChild(o[t]),o.length?i.element.insertBefore(n,o[t]):i.element.appendChild(n)}}}(t,n)}let r;const a={};var d={props:{cancelText:{type:String},confirmText:{type:String},title:{type:String}},methods:{cancel:function(){this.$emit("cancel")},confirm:function(){this.$emit("confirm")}}},l=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"header"},[e("div",{staticClass:"left"},[e("span",{staticClass:"btn",on:{click:t.cancel}},[t._v(t._s(t.cancelText))])]),t._v(" "),e("div",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),e("div",{staticClass:"right"},[e("span",{staticClass:"btn",on:{click:t.confirm}},[t._v(t._s(t.confirmText))])])])};l._withStripped=!0;var h=i({render:l,staticRenderFns:[]},(function(t){t&&t("data-v-6ffe26b0_0",{source:'.header[data-v-6ffe26b0] {\n  height: 44px;\n  line-height: 44px;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n  position: relative;\n}\n.header[data-v-6ffe26b0]::after {\n  position: absolute;\n  box-sizing: border-box;\n  content: " ";\n  pointer-events: none;\n  top: -50%;\n  right: -50%;\n  bottom: -50%;\n  left: -50%;\n  border: 0 solid #ebedf0;\n  -webkit-transform: scale(0.5);\n          transform: scale(0.5);\n  border-width: 1px 0;\n}\n.title[data-v-6ffe26b0] {\n  max-width: 50%;\n  font-weight: 500;\n  font-size: 16px;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.btn[data-v-6ffe26b0] {\n  padding: 0 16px;\n  color: #1989fa;\n  font-size: 14px;\n  background-color: transparent;\n}\n\n/*# sourceMappingURL=header.vue.map */',map:{version:3,sources:["/Users/naice/my-project/vue-picker/src/header.vue","header.vue"],names:[],mappings:"AAuCA;EACA,YAAA;EACA,iBAAA;EACA,oBAAA;EAAA,aAAA;EACA,yBAAA;UAAA,8BAAA;EACA,kBAAA;ACtCA;ADuCA;EACA,kBAAA;EACA,sBAAA;EACA,YAAA;EACA,oBAAA;EACA,SAAA;EACA,WAAA;EACA,YAAA;EACA,UAAA;EACA,uBAAA;EACA,6BAAA;UAAA,qBAAA;EACA,mBAAA;ACrCA;ADwCA;EACA,cAAA;EACA,gBAAA;EACA,eAAA;EACA,kBAAA;EACA,gBAAA;EACA,uBAAA;EACA,mBAAA;ACrCA;ADuCA;EACA,eAAA;EACA,cAAA;EACA,eAAA;EACA,6BAAA;ACpCA;;AAEA,qCAAqC",file:"header.vue",sourcesContent:['<template>\n  <div class="header">\n    <div class="left">\n      <span class="btn" @click="cancel">{{cancelText}}</span>\n    </div>\n    <div class="title">{{title}}</div>\n    <div class="right">\n      <span class="btn" @click="confirm">{{confirmText}}</span>\n    </div>\n  </div>\n</template>\n\n<script>\n  // TODO： 支持自定义的render渲染\n  // import textRender from \'./render\'\n  export default {\n    props: {\n      cancelText: {\n        type: String\n      },\n      confirmText: {\n        type: String\n      },\n      title: {\n        type: String\n      }\n    },\n    methods: {\n      cancel () {\n        this.$emit(\'cancel\')\n      },\n      confirm () {\n        this.$emit(\'confirm\')\n      }\n    }\n  }\n<\/script>\n\n<style lang="scss" scoped>\n  .header {\n    height: 44px;\n    line-height: 44px;\n    display: flex;\n    justify-content: space-between;\n    position: relative;\n    &::after {\n      position: absolute;\n      box-sizing: border-box;\n      content: \' \';\n      pointer-events: none;\n      top: -50%;\n      right: -50%;\n      bottom: -50%;\n      left: -50%;\n      border: 0 solid #ebedf0;\n      transform: scale(0.5);\n      border-width: 1px 0;\n    }\n  }\n  .title {\n    max-width: 50%;\n    font-weight: 500;\n    font-size: 16px;\n    text-align: center;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .btn {\n    padding: 0 16px;\n    color: #1989fa;\n    font-size: 14px;\n    background-color: transparent;\n  }\n</style>\n','.header {\n  height: 44px;\n  line-height: 44px;\n  display: flex;\n  justify-content: space-between;\n  position: relative;\n}\n.header::after {\n  position: absolute;\n  box-sizing: border-box;\n  content: " ";\n  pointer-events: none;\n  top: -50%;\n  right: -50%;\n  bottom: -50%;\n  left: -50%;\n  border: 0 solid #ebedf0;\n  transform: scale(0.5);\n  border-width: 1px 0;\n}\n\n.title {\n  max-width: 50%;\n  font-weight: 500;\n  font-size: 16px;\n  text-align: center;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.btn {\n  padding: 0 16px;\n  color: #1989fa;\n  font-size: 14px;\n  background-color: transparent;\n}\n\n/*# sourceMappingURL=header.vue.map */']},media:void 0})}),d,"data-v-6ffe26b0",!1,void 0,!1,s,void 0,void 0),u="ontouchstart"in window,c=u?"touchstart":"mousedown",A=u?"touchmove":"mousemove",f=u?"touchend":"mouseup",m=function(t){return{x:u?t.changedTouches[0].clientX:t.clientX,y:u?t.changedTouches[0].clientY:t.clientY}},p=function(){for(var t=navigator.userAgent,n=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],e=!0,i=0;i<n.length;i++)if(t.indexOf(n[i])>0){e=!1;break}return e}(),g={props:{defaultIndex:{type:Number,default:0},column:{type:Array,default:function(){return[]}},boxHeight:Number,itemHeight:Number,rowNumber:Number},data:function(){return{ulStyle:{transform:"translate3d(0px, 0px, 0px)",transitionDuration:"0ms",transitionProperty:"none",lineHeight:"".concat(this.itemHeight,"px")}}},computed:{count:function(){return this.column.length},getRoNumber:function(){return Math.floor(this.rowNumber/2)}},methods:{init:function(){this.setTop(this.defaultIndex);var t=(this.boxHeight-this.itemHeight)/2;this.bottom=t+this.itemHeight,this.top=t-this.count*this.itemHeight},setTop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.boxHeight,e=this.itemHeight;this.startTop=(n-e)/2-t*e,this.ulStyle.transform="translate3d(0px, ".concat(this.startTop,"px, 0px)"),this.selectIndex=t,this.change()},handleStart:function(t){this.distStartTop=m(t).y,this.touchStartTime=Date.now(),this.startY=m(t).y,this.momentumTop=this.startTop,this.ulStyle.transitionDuration="0ms",this.ulStyle.transitionProperty="none",p&&(document.addEventListener(A,this.handleMove,!1),document.addEventListener(f,this.handleEnd,!1))},handleMove:function(t){t.preventDefault(),t.stopPropagation(),this.disY=m(t).y-this.startY,this.startY=m(t).y,this.startTop>=this.bottom?this.startTop=this.bottom:this.startTop<=this.top?this.startTop=this.top:this.startTop+=this.disY,this.ulStyle.transform="translate3d(0px, ".concat(this.startTop,"px, 0px)");var n=Date.now();n-this.touchStartTime>300&&(this.touchStartTime=n,this.momentumTop=this.startTop)},handleEnd:function(){p&&(document.removeEventListener(A,this.handleMove,!1),document.removeEventListener(f,this.handleEnd,!1));var t=this.startTop-this.momentumTop,n=Date.now()-this.touchStartTime;n<300&&Math.abs(t)>15?this.toMove(t,n):this.setTranfromTop()},setTranfromTop:function(){if(this.ulStyle.transitionProperty="all",this.ulStyle.transitionDuration="".concat(200,"ms"),this.startTop>=this.bottom-this.itemHeight)this.setTop();else if(this.startTop<=this.top+this.itemHeight)this.setTop(this.count-1);else{var t=Math.round(this.startTop/this.itemHeight);this.startTop=t*this.itemHeight,this.startTop>this.bottom?(this.startTop=this.bottom-this.itemHeight,t=-this.getRoNumber):this.startTop<this.top&&(this.startTop=this.top+this.itemHeight,t=this.count+1),this.ulStyle.transform="translate3d(0px, ".concat(this.startTop,"px, 0px)"),t=this.getRoNumber-t,this.selectIndex!==t&&(this.selectIndex=t,this.change())}},toMove:function(t,n){var e=Math.abs(t/n);t=this.startTop+e/.002*(t<0?-1:1),this.ulStyle.transitionProperty="all",this.ulStyle.transitionDuration="1000ms",this.setTop(Math.min(Math.max(Math.round(-t/this.itemHeight),0),this.count-1))},change:function(){this.$emit("change",this.column[this.selectIndex])},mousewheel:function(t){t.preventDefault(),t.stopPropagation(),this.ulStyle.transitionDuration="0ms",this.ulStyle.transitionProperty="none";var n=t.deltaX,e=t.deltaY;if(Math.abs(n)<Math.abs(e)){this.startTop=this.startTop-e;var i=this.bottom-this.itemHeight,o=this.top+this.itemHeight,s=!0;this.startTop>i?(this.startTop=i,s=!1):this.startTop<o&&(this.startTop=o,s=!1),this.ulStyle.transform="translate3d(0px, ".concat(this.startTop,"px, 0px)"),s&&(clearInterval(this.wheelTimer),this.wheelTimer=setTimeout(this.setTranfromTop,100))}}},mounted:function(){this.init(),this.$el.addEventListener(c,this.handleStart,!1),p?this.$el.addEventListener("wheel",this.mousewheel,!1):(this.$el.addEventListener(A,this.handleMove,!1),this.$el.addEventListener(f,this.handleEnd,!1))},watch:{column:function(){this.init()},defaultIndex:function(){this.setTop(this.defaultIndex)}},beforeDestroy:function(){this.$el.removeEventListener(c,this.handleStart,!1),p&&(this.$el.removeEventListener("wheel",this.mousewheel,!1),this.$el.removeEventListener(A,this.handleMove,!1),this.$el.removeEventListener(f,this.handleEnd,!1))}},b=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"list",staticClass:"list"},[e("ul",{style:t.ulStyle},t._l(t.column,(function(n,i){return e("li",{key:"item"+i},[t._v(t._s(n.label))])})),0)])};b._withStripped=!0;var x=i({render:b,staticRenderFns:[]},(function(t){t&&t("data-v-ec129ff4_0",{source:".list[data-v-ec129ff4] {\n  margin: 0;\n  padding: 0;\n  -webkit-box-flex: 1;\n          flex: 1;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.list ul[data-v-ec129ff4] {\n  margin: 0;\n  padding: 0;\n  -webkit-transition-timing-function: cubic-bezier(0.23, 1, 0.68, 1);\n          transition-timing-function: cubic-bezier(0.23, 1, 0.68, 1);\n  line-height: 44px;\n}\n.list li[data-v-ec129ff4] {\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  padding: 0 5px;\n  color: #000;\n}\n\n/*# sourceMappingURL=list.vue.map */",map:{version:3,sources:["/Users/naice/my-project/vue-picker/src/list.vue","list.vue"],names:[],mappings:"AA4MA;EACA,SAAA;EACA,UAAA;EACA,mBAAA;UAAA,OAAA;EACA,WAAA;EACA,YAAA;EACA,gBAAA;AC3MA;AD4MA;EACA,SAAA;EACA,UAAA;EACA,kEAAA;UAAA,0DAAA;EACA,iBAAA;AC1MA;AD4MA;EACA,SAAA;EACA,UAAA;EACA,gBAAA;EACA,mBAAA;EACA,uBAAA;EACA,cAAA;EACA,WAAA;AC1MA;;AAEA,mCAAmC",file:"list.vue",sourcesContent:['<template>\n  <div class="list" ref="list">\n    <ul :style="ulStyle">\n      <li v-for="(item, index) in column" :key="\'item\' + index">{{item.label}}</li>\n    </ul>\n  </div>\n</template>\n\n<script>\n  import { getClient, START_EVENT, MOVE_EVENT, END_EVENT, isPC } from \'./utils.js\'\n  const DEFAULT_DURATION = 200\n  // 惯性滑动思路:\n  // 在手指离开屏幕时，如果和上一次 move 时的间隔小于 `LIMIT_TIME` 且 move\n  // 距离大于 `LIMIT_DISTANCE` 时，执行惯性滑动\n  const LIMIT_TIME = 300\n  const LIMIT_DISTANCE = 15\n  const IS_PC = isPC()\n  export default {\n    props: {\n      defaultIndex: {\n        type: Number,\n        default: 0\n      },\n      column: {\n        type: Array,\n        default: () => ([])\n      },\n      boxHeight: Number,\n      itemHeight: Number,\n      rowNumber: Number\n    },\n    data() {\n      return {\n        ulStyle: {\n          transform: `translate3d(0px, 0px, 0px)`,\n          transitionDuration: `0ms`,\n          transitionProperty: `none`,\n          lineHeight: `${this.itemHeight}px`\n        }\n      }\n    },\n    computed: {\n      count() {\n        return this.column.length\n      },\n      getRoNumber() {\n        return Math.floor(this.rowNumber / 2)\n      }\n    },\n    methods: {\n      init () {\n        this.setTop(this.defaultIndex)\n        const halfBox = (this.boxHeight - this.itemHeight) / 2\n        this.bottom = halfBox + this.itemHeight\n        this.top = halfBox - this.count * this.itemHeight\n      },\n      // 根据index 设置滚动位置\n      setTop (index = 0) {\n        const { boxHeight, itemHeight } = this\n        this.startTop = ((boxHeight - itemHeight) / 2) - (index * itemHeight)\n        this.ulStyle.transform = `translate3d(0px, ${this.startTop}px, 0px)`\n        this.selectIndex = index\n        this.change()\n      },\n      handleStart (e) {\n        this.distStartTop = getClient(e).y\n        this.touchStartTime = Date.now()\n        // ----\n        this.startY = getClient(e).y\n        this.momentumTop = this.startTop\n\n        this.ulStyle.transitionDuration = `0ms`\n        this.ulStyle.transitionProperty = `none`\n        if (IS_PC) {\n          document.addEventListener(MOVE_EVENT, this.handleMove, false)\n          document.addEventListener(END_EVENT, this.handleEnd, false)\n        }\n      },\n      handleMove (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        this.disY = getClient(e).y - this.startY\n        this.startY = getClient(e).y\n        if (this.startTop >= this.bottom) {\n          this.startTop = this.bottom\n        } else if (this.startTop <= this.top) {\n          this.startTop = this.top\n        } else {\n          this.startTop += this.disY\n        }\n        this.ulStyle.transform = `translate3d(0px, ${this.startTop}px, 0px)`\n        const now = Date.now()\n\n        if (now - this.touchStartTime > LIMIT_TIME) {\n          this.touchStartTime = now\n          this.momentumTop = this.startTop\n        }\n      },\n      handleEnd () {\n        if (IS_PC) {\n          document.removeEventListener(MOVE_EVENT, this.handleMove, false)\n          document.removeEventListener(END_EVENT, this.handleEnd, false)\n        }\n        const distance = this.startTop - this.momentumTop\n        const duration = Date.now() - this.touchStartTime\n        const allowMomentum = duration < LIMIT_TIME && Math.abs(distance) > LIMIT_DISTANCE\n        if (allowMomentum) {\n          this.toMove(distance, duration)\n        } else {\n          this.setTranfromTop()\n        }\n      },\n      setTranfromTop () {\n        this.ulStyle.transitionProperty = `all`\n        this.ulStyle.transitionDuration = `${DEFAULT_DURATION}ms`\n        if (this.startTop >= this.bottom - this.itemHeight) {\n          this.setTop()\n        } else if (this.startTop <= this.top + this.itemHeight) {\n          this.setTop(this.count - 1)\n        } else {\n          let index = Math.round((this.startTop) / this.itemHeight)\n          this.startTop = index * this.itemHeight\n          if (this.startTop > this.bottom) {\n            this.startTop = this.bottom - this.itemHeight\n            index = -this.getRoNumber\n          } else if (this.startTop < this.top) {\n            this.startTop = this.top + this.itemHeight\n            index = this.count + 1\n          }\n          this.ulStyle.transform = `translate3d(0px, ${this.startTop}px, 0px)`\n          index = this.getRoNumber - index\n          if (this.selectIndex !== index) {\n            this.selectIndex = index\n            this.change()\n          }\n        }\n      },\n      toMove (distance, duration) {\n        const speed = Math.abs(distance / duration)\n        distance = this.startTop + (speed / 0.002) * (distance < 0 ? -1 : 1)\n        this.ulStyle.transitionProperty = `all`\n        this.ulStyle.transitionDuration = `1000ms`\n        this.setTop(Math.min(Math.max(Math.round(-distance / this.itemHeight), 0), this.count - 1))\n      },\n      change () {\n        this.$emit(\'change\', this.column[this.selectIndex])\n      },\n      mousewheel (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        this.ulStyle.transitionDuration = `0ms`\n        this.ulStyle.transitionProperty = `none`\n        const { deltaX, deltaY } = e\n        if (Math.abs(deltaX) < Math.abs(deltaY)) {\n          this.startTop = this.startTop - deltaY\n          let b = this.bottom - this.itemHeight\n          let t = this.top + this.itemHeight\n          let shouldMove = true\n          if (this.startTop > b ) {\n            this.startTop = b\n            shouldMove = false\n          } else if (this.startTop < t) {\n            this.startTop = t\n            shouldMove = false\n          }\n          this.ulStyle.transform = `translate3d(0px, ${this.startTop}px, 0px)`\n          if (shouldMove) {\n            clearInterval(this.wheelTimer)\n            this.wheelTimer = setTimeout(this.setTranfromTop, 100)\n          }\n        }\n      }\n    },\n    mounted () {\n      this.init()\n      // 监听开始事件\n      this.$el.addEventListener(START_EVENT, this.handleStart, false)\n      if (IS_PC) {\n        this.$el.addEventListener(\'wheel\', this.mousewheel, false)\n      } else {\n        this.$el.addEventListener(MOVE_EVENT, this.handleMove, false)\n        this.$el.addEventListener(END_EVENT, this.handleEnd, false)\n      }\n    },\n    watch: {\n      column () {\n        this.init()\n      },\n      defaultIndex () {\n        this.setTop(this.defaultIndex)\n      }\n    },\n    beforeDestroy () {\n      this.$el.removeEventListener(START_EVENT, this.handleStart, false)\n      if (IS_PC) {\n        this.$el.removeEventListener(\'wheel\', this.mousewheel, false)\n        this.$el.removeEventListener(MOVE_EVENT, this.handleMove, false)\n        this.$el.removeEventListener(END_EVENT, this.handleEnd, false)\n      }\n    }\n  }\n<\/script>\n\n<style lang="scss" scoped>\n  .list {\n    margin: 0;\n    padding: 0;\n    flex: 1;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    ul {\n      margin: 0;\n      padding: 0;\n      transition-timing-function: cubic-bezier(0.23, 1, 0.68, 1);\n      line-height: 44px;\n    }\n    li {\n      margin: 0;\n      padding: 0;\n      overflow: hidden;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      padding: 0 5px;\n      color: #000;\n    }\n  }\n</style>\n',".list {\n  margin: 0;\n  padding: 0;\n  flex: 1;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.list ul {\n  margin: 0;\n  padding: 0;\n  transition-timing-function: cubic-bezier(0.23, 1, 0.68, 1);\n  line-height: 44px;\n}\n.list li {\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  padding: 0 5px;\n  color: #000;\n}\n\n/*# sourceMappingURL=list.vue.map */"]},media:void 0})}),g,"data-v-ec129ff4",!1,void 0,!1,s,void 0,void 0),v={name:"VuePicker",props:{visible:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},layer:{type:Number,default:0},itemHeight:{type:[Number,String],default:44},defaultIndex:{type:[Number,Array],default:0},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确认"},title:{type:String,default:""},showToolbar:{type:Boolean,default:!1},maskClick:{type:Boolean,default:!1},rowNumber:{type:Number,default:5},appendToBody:{type:Boolean,default:!1}},components:{Header:h,List:x},data:function(){return{column1:[],column2:[],column3:[],column4:[],dIndex1:0,dIndex2:0,dIndex3:0,dIndex4:0}},computed:{boxHeight:function(){var t=parseInt(this.itemHeight);return(t=t||44)*this.getRowNumber},getRowNumber:function(){return this.rowNumber<3?3:this.rowNumber%2==0?this.rowNumber+1:this.rowNumber},maskStyle:function(){var t={backgroundSize:"100% 88px"};return 3===this.getRowNumber&&(t={backgroundSize:"100% 44px"}),t}},methods:{clickMask:function(){this.maskClick&&(this.looseBody(),this.$emit("update:visible",!1))},formateData:function(){this.layer>1?this.setLinkColumn():(this.column1=this.data[0]||[],this.column2=this.data[1]||[],this.column3=this.data[2]||[],this.column4=this.data[3]||[],this.setNormalIndex())},setLinkColumn:function(){2===this.layer?this.setLinkLayer2():3===this.layer?(this.setLinkLayer2(),this.setLinkLayer3()):4===this.layer&&(this.setLinkLayer2(),this.setLinkLayer3(),this.setLinkLayer4())},setLinkLayer2:function(){var t=this,n=this.defaultIndex;this.column1=this.data||[],"number"==typeof n?(this.dIndex1=n,this.dIndex2=0,this.data.length>1&&this.data[0].children&&(this.column2=this.data[0].children||[])):Array.isArray(n)&&n.length>0&&(this.dIndex1=n[0]||0,this.column2=this.data[this.dIndex1].children||[],this.$nextTick((function(){t.column2.length-1<n[1]?t.dIndex2=t.column2.length-1:t.dIndex2=n[1]||0})))},setLinkLayer3:function(){var t=this,n=this.defaultIndex;"number"==typeof n?(this.dIndex3=0,this.column2.length>1&&this.column2[0].children&&(this.column3=this.column2[0].children||[])):Array.isArray(n)&&n.length>1&&this.$nextTick((function(){t.column3=t.column2[t.dIndex2].children||[],t.$nextTick((function(){t.column3.length-1<n[2]?t.dIndex3=t.column3.length-1:t.dIndex3=n[2]||0}))}))},setLinkLayer4:function(){var t=this,n=this.defaultIndex;"number"==typeof n?(this.dIndex4=0,this.column3.length>1&&this.column3[0].children&&(this.column4=this.column3[0].children||[])):Array.isArray(n)&&n.length>2&&setTimeout((function(){t.column4=t.column3[t.dIndex3].children||[],t.$nextTick((function(){t.column4.length-1<n[3]?t.dIndex4=t.column4.length-1:t.dIndex4=n[3]||0}))}))},setNormalIndex:function(){var t=this;this.$nextTick((function(){var n=t.defaultIndex;Array.isArray(n)?t.setDefaultIndex():t.dIndex1=Number(n)||0}))},setDefaultIndex:function(){var t=this.indexArr,n=this;!function(){for(var e=Promise.resolve(),i=0;i<n.data.length;)e=e.then(t[i]),i++}()},change:function(t,n){this.result[t]=n,this.$emit("change",this.result)},change1:function(t){t&&(this.change(0,t),this.layer>1&&(this.dIndex2=0,this.changeLink("column2",t)))},change2:function(t){t&&(this.change(1,t),this.layer>2&&(this.dIndex3=0,this.changeLink("column3",t)))},change3:function(t){t&&(this.change(2,t),this.layer>3&&(this.dIndex4=0,this.changeLink("column4",t)))},change4:function(t){t&&this.change(3,t)},changeLink:function(t,n){var e=this;this.layer&&(this.linktimer=setTimeout((function(){e[t]=n.children||[]}),1e3/60))},cancel:function(){this.looseBody(),this.$emit("cancel"),this.$emit("update:visible",!1)},confirm:function(){this.looseBody(),this.$emit("confirm",this.result),this.$emit("update:visible",!1)},stopPropagation:function(t){t.stopPropagation()},fixedBody:function(){var t=document.body.scrollTop||document.documentElement.scrollTop;this.prevBodyCss=document.body.style.cssText,document.body.style.cssText+="position:fixed;width:100%;top:-"+t+"px;"},looseBody:function(){var t=document.body,n=t.style.top;t.style.cssText=this.prevBodyCss,t.scrollTop=document.documentElement.scrollTop=-parseInt(n),t.style.top=""},init:function(){var t=this;this.result=[],this.indexArr=[function(){return t.dIndex1=t.defaultIndex[0]||0},function(){return t.dIndex2=t.defaultIndex[1]||0},function(){return t.dIndex3=t.defaultIndex[2]||0},function(){return t.dIndex4=t.defaultIndex[3]||0}],this.formateData()}},created:function(){this.init()},mounted:function(){this.$refs.picker.addEventListener("click",this.stopPropagation),this.appendToBody&&document.body.appendChild(this.$el)},watch:{visible:function(t){t&&this.fixedBody()},defaultIndex:function(){this.init()},data:function(){this.init()}},beforeDestroy:function(){this.$refs.picker.removeEventListener("click",this.stopPropagation)}},y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"pickerbox",on:{click:t.clickMask}},[e("transition",{attrs:{name:"toup"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],ref:"picker",staticClass:"vue-picker"},[t.showToolbar?e("Header",{attrs:{cancelText:t.cancelText,confirmText:t.confirmText,title:t.title},on:{cancel:t.cancel,confirm:t.confirm}}):t._e(),t._v(" "),e("div",{staticClass:"content",style:{height:t.boxHeight+"px"}},[e("div",{staticClass:"colums"},[e("List",{attrs:{column:t.column1,boxHeight:t.boxHeight,itemHeight:t.itemHeight,defaultIndex:t.dIndex1,rowNumber:t.getRowNumber},on:{change:t.change1}}),t._v(" "),t.column2.length>0?e("List",{attrs:{column:t.column2,boxHeight:t.boxHeight,itemHeight:t.itemHeight,defaultIndex:t.dIndex2,rowNumber:t.getRowNumber},on:{change:t.change2}}):t._e(),t._v(" "),t.column3.length>0?e("List",{attrs:{column:t.column3,boxHeight:t.boxHeight,itemHeight:t.itemHeight,defaultIndex:t.dIndex3,rowNumber:t.getRowNumber},on:{change:t.change3}}):t._e(),t._v(" "),t.column4.length>0?e("List",{attrs:{column:t.column4,boxHeight:t.boxHeight,itemHeight:t.itemHeight,defaultIndex:t.dIndex4,rowNumber:t.getRowNumber},on:{change:t.change4}}):t._e()],1),t._v(" "),e("div",{staticClass:"mask",style:t.maskStyle}),t._v(" "),e("div",{staticClass:"hairline"})])],1)])],1)])};y._withStripped=!0;var k=i({render:y,staticRenderFns:[]},(function(t){t&&t("data-v-200a1302_0",{source:'.pickerbox[data-v-200a1302] {\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  left: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 9999;\n  overflow: hidden;\n}\n.fade-enter-active[data-v-200a1302], .fade-leave-active[data-v-200a1302] {\n  -webkit-transition: opacity 0.2s;\n  transition: opacity 0.2s;\n}\n.fade-enter[data-v-200a1302], .fade-leave-to[data-v-200a1302] {\n  opacity: 0;\n}\n.toup-enter-active[data-v-200a1302], .toup-leave-active[data-v-200a1302] {\n  -webkit-transition: -webkit-transform 0.3s;\n  transition: -webkit-transform 0.3s;\n  transition: transform 0.3s;\n  transition: transform 0.3s, -webkit-transform 0.3s;\n}\n.toup-enter[data-v-200a1302], .toup-leave-to[data-v-200a1302] {\n  -webkit-transform: translate3d(0, 100px, 0);\n          transform: translate3d(0, 100px, 0);\n}\n.vue-picker[data-v-200a1302] {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  background-color: #fff;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  -webkit-text-size-adjust: 100%;\n  -webkit-tap-highlight-color: transparent;\n}\n.content[data-v-200a1302] {\n  overflow: hidden;\n  height: 220px;\n  position: relative;\n  display: -webkit-box;\n  display: flex;\n}\n.colums[data-v-200a1302] {\n  display: -webkit-box;\n  display: flex;\n  overflow: hidden;\n  font-size: 16px;\n  text-align: center;\n  -webkit-box-flex: 1;\n          flex: 1;\n}\n.mask[data-v-200a1302] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  width: 100%;\n  height: 100%;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(rgba(255, 255, 255, 0.9)), to(rgba(255, 255, 255, 0.4))), -webkit-gradient(linear, left bottom, left top, from(rgba(255, 255, 255, 0.9)), to(rgba(255, 255, 255, 0.4)));\n  background-image: linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.4)), linear-gradient(0deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.4));\n  background-repeat: no-repeat;\n  background-position: top, bottom;\n  -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n  pointer-events: none;\n  background-size: 100% 88px;\n}\n.hairline[data-v-200a1302] {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  z-index: 3;\n  width: 100%;\n  -webkit-transform: translateY(-50%);\n          transform: translateY(-50%);\n  pointer-events: none;\n  height: 44px;\n}\n.hairline[data-v-200a1302]::after {\n  position: absolute;\n  box-sizing: border-box;\n  content: " ";\n  pointer-events: none;\n  top: -50%;\n  right: -50%;\n  bottom: -50%;\n  left: -50%;\n  border: 0 solid #ebedf0;\n  -webkit-transform: scale(0.5);\n  transform: scale(0.5);\n  border-width: 1px 0;\n}\n\n/*# sourceMappingURL=index.vue.map */',map:{version:3,sources:["/Users/naice/my-project/vue-picker/src/index.vue","index.vue"],names:[],mappings:"AA2WA;EACA,eAAA;EACA,YAAA;EACA,aAAA;EACA,OAAA;EACA,SAAA;EACA,8BAAA;EACA,aAAA;EACA,gBAAA;AC1WA;AD4WA;EACA,gCAAA;EAAA,wBAAA;ACzWA;AD2WA;EACA,UAAA;ACxWA;AD0WA;EACA,0CAAA;EAAA,kCAAA;EAAA,0BAAA;EAAA,kDAAA;ACvWA;ADyWA;EACA,2CAAA;UAAA,mCAAA;ACtWA;ADyWA;EACA,kBAAA;EACA,OAAA;EACA,SAAA;EACA,WAAA;EACA,sBAAA;EACA,yBAAA;KAAA,sBAAA;MAAA,qBAAA;UAAA,iBAAA;EACA,8BAAA;EACA,wCAAA;ACtWA;ADwWA;EACA,gBAAA;EACA,aAAA;EACA,kBAAA;EACA,oBAAA;EAAA,aAAA;ACrWA;ADuWA;EACA,oBAAA;EAAA,aAAA;EACA,gBAAA;EACA,eAAA;EACA,kBAAA;EACA,mBAAA;UAAA,OAAA;ACpWA;ADsWA;EACA,kBAAA;EACA,MAAA;EACA,OAAA;EACA,UAAA;EACA,WAAA;EACA,YAAA;EACA,8OAAA;EAAA,wKAAA;EACA,4BAAA;EACA,gCAAA;EACA,mCAAA;UAAA,2BAAA;EACA,oBAAA;EACA,0BAAA;ACnWA;ADqWA;EACA,kBAAA;EACA,QAAA;EACA,OAAA;EACA,UAAA;EACA,WAAA;EACA,mCAAA;UAAA,2BAAA;EACA,oBAAA;EACA,YAAA;AClWA;ADmWA;EACA,kBAAA;EACA,sBAAA;EACA,YAAA;EACA,oBAAA;EACA,SAAA;EACA,WAAA;EACA,YAAA;EACA,UAAA;EACA,uBAAA;EACA,6BAAA;EACA,qBAAA;EACA,mBAAA;ACjWA;;AAEA,oCAAoC",file:"index.vue",sourcesContent:['<template>\n  <transition name="fade">\n    <div class="pickerbox" v-show="visible" @click="clickMask">\n      <transition name="toup">\n        <div class="vue-picker" ref="picker" v-show="visible">\n          <Header v-if="showToolbar"\n            :cancelText="cancelText"\n            :confirmText="confirmText"\n            :title="title"\n            @cancel="cancel"\n            @confirm="confirm" />\n          <div class="content" :style="{height: boxHeight + \'px\'}">\n            <div class="colums">\n              <List :column="column1"\n                :boxHeight="boxHeight"\n                :itemHeight="itemHeight"\n                :defaultIndex="dIndex1"\n                :rowNumber="getRowNumber"\n                @change="change1" />\n              <List v-if="column2.length > 0"\n                :column="column2"\n                :boxHeight="boxHeight"\n                :itemHeight="itemHeight"\n                :defaultIndex="dIndex2"\n                :rowNumber="getRowNumber"\n                @change="change2" />\n              <List v-if="column3.length > 0"\n                :column="column3"\n                :boxHeight="boxHeight"\n                :itemHeight="itemHeight"\n                :defaultIndex="dIndex3"\n                :rowNumber="getRowNumber"\n                @change="change3" />\n              <List v-if="column4.length > 0"\n                :column="column4"\n                :boxHeight="boxHeight"\n                :itemHeight="itemHeight"\n                :defaultIndex="dIndex4"\n                :rowNumber="getRowNumber"\n                @change="change4" />\n            </div>\n            <div class="mask" :style="maskStyle"></div>\n            <div class="hairline"></div>\n          </div>\n        </div>\n      </transition>\n    </div>\n  </transition>\n</template>\n<script>\n  import Header from \'./header.vue\'\n  import List from \'./list.vue\'\n  import { DEFTAULT_ITEM_HEIGHT } from \'./utils.js\'\n  export default {\n    name: \'VuePicker\',\n    props: {\n      visible: {\n        type: Boolean,\n        default: false\n      },\n      data: {\n        type: Array,\n        default: () => []\n      },\n      layer: {\n        type: Number,\n        default: 0\n      },\n      itemHeight: {\n        type: [Number, String],\n        default: DEFTAULT_ITEM_HEIGHT\n      },\n      defaultIndex: {\n        type: [Number, Array],\n        default: 0\n      },\n      cancelText: {\n        type: String,\n        default: \'取消\'\n      },\n      confirmText: {\n        type: String,\n        default: \'确认\'\n      },\n      title: {\n        type: String,\n        default: \'\'\n      },\n      showToolbar: {\n        type: Boolean,\n        default: false\n      },\n      maskClick: {\n        type: Boolean,\n        default: false\n      },\n      rowNumber: {\n        type: Number,\n        default: 5\n      },\n      appendToBody: {\n        type: Boolean,\n        default: false\n      }\n    },\n    components: {\n      Header,\n      List\n    },\n    data () {\n      return {\n        column1: [],\n        column2: [],\n        column3: [],\n        column4: [],\n        dIndex1: 0,\n        dIndex2: 0,\n        dIndex3: 0,\n        dIndex4: 0\n      }\n    },\n    computed: {\n      boxHeight () {\n        let itemHeight = parseInt(this.itemHeight)\n        itemHeight = itemHeight ? itemHeight : DEFTAULT_ITEM_HEIGHT\n        return itemHeight * this.getRowNumber\n      },\n      getRowNumber () {\n        if (this.rowNumber < 3) {\n          return 3\n        }\n        return this.rowNumber % 2 === 0 ? this.rowNumber + 1 : this.rowNumber\n      },\n      maskStyle() {\n        let style = { backgroundSize: \'100% 88px\' }\n        if (this.getRowNumber === 3) {\n          style = { backgroundSize: \'100% 44px\' }\n        }\n        return style\n      }\n    },\n    methods: {\n      clickMask () {\n        if (this.maskClick) {\n          this.looseBody()\n          this.$emit(\'update:visible\', false)\n        }\n      },\n      formateData () {\n        if (this.layer > 1) {\n          this.setLinkColumn()\n        } else {\n          this.column1 = this.data[0] || []\n          this.column2 = this.data[1] || []\n          this.column3 = this.data[2] || []\n          this.column4 = this.data[3] || []\n          this.setNormalIndex()\n        }\n      },\n      setLinkColumn () {\n        if (this.layer === 2) {\n          this.setLinkLayer2()\n        } else if (this.layer === 3) {\n          this.setLinkLayer2()\n          this.setLinkLayer3()\n        } else if (this.layer === 4) {\n          this.setLinkLayer2()\n          this.setLinkLayer3()\n          this.setLinkLayer4()\n        }\n      },\n      setLinkLayer2 () {\n        const { defaultIndex } = this\n        this.column1 = this.data || []\n        if (typeof defaultIndex === \'number\') {\n          this.dIndex1 = defaultIndex\n          this.dIndex2 = 0\n          if (this.data.length > 1 && this.data[0].children) {\n            this.column2 = this.data[0].children || []\n          }\n        } else if (Array.isArray(defaultIndex) && defaultIndex.length > 0){\n          this.dIndex1 = defaultIndex[0] || 0\n          this.column2 = this.data[this.dIndex1].children || []\n          this.$nextTick(() => {\n            if (this.column2.length - 1 < defaultIndex[1]) {\n              this.dIndex2 = this.column2.length - 1\n            } else {\n              this.dIndex2 = defaultIndex[1] || 0\n            }\n          })\n        }\n      },\n      setLinkLayer3 () {\n        const { defaultIndex } = this\n        if (typeof defaultIndex === \'number\') {\n          this.dIndex3 = 0\n          if (this.column2.length > 1 && this.column2[0].children) {\n            this.column3 = this.column2[0].children || []\n          }\n        } else if (Array.isArray(defaultIndex) && defaultIndex.length > 1){\n          this.$nextTick(() => {\n            this.column3 = this.column2[this.dIndex2].children || []\n            this.$nextTick(() => {\n              if (this.column3.length - 1 < defaultIndex[2]) {\n                this.dIndex3 = this.column3.length - 1\n              } else {\n                this.dIndex3 = defaultIndex[2] || 0\n              }\n            })\n          })\n        }\n      },\n      setLinkLayer4 () {\n        const { defaultIndex } = this\n        if (typeof defaultIndex === \'number\') {\n          this.dIndex4 = 0\n          if (this.column3.length > 1 && this.column3[0].children) {\n            this.column4 = this.column3[0].children || []\n          }\n        } else if (Array.isArray(defaultIndex) && defaultIndex.length > 2){\n          setTimeout(() => {\n            this.column4 = this.column3[this.dIndex3].children || []\n            this.$nextTick(() => {\n              if (this.column4.length - 1 < defaultIndex[3]) {\n                this.dIndex4 = this.column4.length - 1\n              } else {\n                this.dIndex4 = defaultIndex[3] || 0\n              }\n            })\n          })\n        }\n      },\n      setNormalIndex () {\n        this.$nextTick(() => {\n          const { defaultIndex } = this\n          if (Array.isArray(defaultIndex)) {\n            this.setDefaultIndex()\n          } else {\n            this.dIndex1 = Number(defaultIndex) || 0\n          }\n        })\n      },\n      setDefaultIndex () {\n        const { indexArr } = this\n        const self = this\n        function next() {\n          let promise = Promise.resolve()\n          let index = 0\n          while (index < self.data.length) {\n            promise = promise.then(indexArr[index])\n            index++\n          }\n        }\n        next()\n      },\n      change (index, res) {\n        this.result[index] = res\n        this.$emit(\'change\', this.result)\n      },\n      change1 (res) {\n        if (res) {\n          this.change(0, res)\n          if (this.layer > 1) {\n            this.dIndex2 = 0\n            this.changeLink(\'column2\', res)\n          }\n        }\n      },\n      change2 (res) {\n        if (res) {\n          this.change(1, res)\n          if (this.layer > 2) {\n            this.dIndex3 = 0\n            this.changeLink(\'column3\', res)\n          }\n        }\n      },\n      change3 (res) {\n        if (res) {\n          this.change(2, res)\n          if (this.layer > 3) {\n            this.dIndex4 = 0\n            this.changeLink(\'column4\', res)\n          }\n        }\n      },\n      change4 (res) {\n        if (res) {\n          this.change(3, res)\n        }\n      },\n      changeLink (key, res) {\n        if (this.layer) {\n          // clearTimeout(this.linktimer)\n          this.linktimer = setTimeout(() => {\n            this[key] = res.children || []\n          }, 1000 / 60)\n        }\n      },\n      cancel () {\n        this.looseBody()\n        this.$emit(\'cancel\')\n        this.$emit(\'update:visible\', false)\n      },\n      confirm () {\n        this.looseBody()\n        this.$emit(\'confirm\', this.result)\n        this.$emit(\'update:visible\', false)\n      },\n      stopPropagation (e) {\n        e.stopPropagation()\n      },\n      fixedBody() {\n        const scrollTop = document.body.scrollTop || document.documentElement.scrollTop\n        this.prevBodyCss = document.body.style.cssText\n        document.body.style.cssText += \'position:fixed;width:100%;top:-\' + scrollTop + \'px;\'\n      },\n      looseBody() {\n        const body = document.body\n        const top = body.style.top\n        body.style.cssText = this.prevBodyCss\n        body.scrollTop = document.documentElement.scrollTop = -parseInt(top)\n        body.style.top = \'\'\n      },\n      init() {\n        this.result = []\n        this.indexArr = [\n          () => this.dIndex1 = this.defaultIndex[0] || 0,\n          () => this.dIndex2 = this.defaultIndex[1] || 0,\n          () => this.dIndex3 = this.defaultIndex[2] || 0,\n          () => this.dIndex4 = this.defaultIndex[3] || 0\n        ]\n        this.formateData()\n      }\n    },\n    created () {\n      this.init()\n    },\n    mounted () {\n      this.$refs.picker.addEventListener(\'click\', this.stopPropagation)\n      if (this.appendToBody) {\n        document.body.appendChild(this.$el)\n      }\n    },\n    watch: {\n      visible (v) {\n        if (v) {\n          this.fixedBody()\n        }\n      },\n      defaultIndex () {\n        this.init()\n      },\n      data() {\n        this.init()\n      }\n    },\n    beforeDestroy () {\n      this.$refs.picker.removeEventListener(\'click\', this.stopPropagation)\n    }\n  }\n<\/script>\n<style lang="scss" scoped>\n  .pickerbox {\n    position: fixed;\n    width: 100vw;\n    height: 100vh;\n    left: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.7);\n    z-index: 9999;\n    overflow: hidden;\n  }\n  .fade-enter-active, .fade-leave-active {\n    transition: opacity .2s;\n  }\n  .fade-enter, .fade-leave-to {\n    opacity: 0;\n  }\n  .toup-enter-active, .toup-leave-active {\n    transition: transform .3s;\n  }\n  .toup-enter, .toup-leave-to {\n    transform: translate3d(0, 100px, 0);\n  }\n  // ----\n  .vue-picker {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    background-color: #fff;\n    user-select: none;\n    -webkit-text-size-adjust: 100%;\n    -webkit-tap-highlight-color: transparent;\n  }\n  .content {\n    overflow: hidden;\n    height: 220px;\n    position: relative;\n    display: flex;\n  }\n  .colums {\n    display: flex;\n    overflow: hidden;\n    font-size: 16px;\n    text-align: center;\n    flex: 1;\n  }\n  .mask {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 2;\n    width: 100%;\n    height: 100%;\n    background-image: linear-gradient(180deg, hsla(0, 0%, 100%, 0.9), hsla(0, 0%, 100%, 0.4)), linear-gradient(0deg, hsla(0, 0%, 100%, 0.9), hsla(0, 0%, 100%, 0.4));\n    background-repeat: no-repeat;\n    background-position: top, bottom;\n    backface-visibility: hidden;\n    pointer-events: none;\n    background-size: 100% 88px;\n  }\n  .hairline {\n    position: absolute;\n    top: 50%;\n    left: 0;\n    z-index: 3;\n    width: 100%;\n    transform: translateY(-50%);\n    pointer-events: none;\n    height: 44px;\n    &::after {\n      position: absolute;\n      box-sizing: border-box;\n      content: \' \';\n      pointer-events: none;\n      top: -50%;\n      right: -50%;\n      bottom: -50%;\n      left: -50%;\n      border: 0 solid #ebedf0;\n      -webkit-transform: scale(0.5);\n      transform: scale(0.5);\n      border-width: 1px 0;\n    }\n  }\n</style>\n','.pickerbox {\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  left: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 9999;\n  overflow: hidden;\n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity 0.2s;\n}\n\n.fade-enter, .fade-leave-to {\n  opacity: 0;\n}\n\n.toup-enter-active, .toup-leave-active {\n  transition: transform 0.3s;\n}\n\n.toup-enter, .toup-leave-to {\n  transform: translate3d(0, 100px, 0);\n}\n\n.vue-picker {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  background-color: #fff;\n  user-select: none;\n  -webkit-text-size-adjust: 100%;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.content {\n  overflow: hidden;\n  height: 220px;\n  position: relative;\n  display: flex;\n}\n\n.colums {\n  display: flex;\n  overflow: hidden;\n  font-size: 16px;\n  text-align: center;\n  flex: 1;\n}\n\n.mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  width: 100%;\n  height: 100%;\n  background-image: linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.4)), linear-gradient(0deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.4));\n  background-repeat: no-repeat;\n  background-position: top, bottom;\n  backface-visibility: hidden;\n  pointer-events: none;\n  background-size: 100% 88px;\n}\n\n.hairline {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  z-index: 3;\n  width: 100%;\n  transform: translateY(-50%);\n  pointer-events: none;\n  height: 44px;\n}\n.hairline::after {\n  position: absolute;\n  box-sizing: border-box;\n  content: " ";\n  pointer-events: none;\n  top: -50%;\n  right: -50%;\n  bottom: -50%;\n  left: -50%;\n  border: 0 solid #ebedf0;\n  -webkit-transform: scale(0.5);\n  transform: scale(0.5);\n  border-width: 1px 0;\n}\n\n/*# sourceMappingURL=index.vue.map */']},media:void 0})}),v,"data-v-200a1302",!1,void 0,!1,s,void 0,void 0);"undefined"!=typeof window&&window.Vue&&window.Vue.component("vue-picker",k),k.install=function(t){t.component(k.name,k)},n.default=k}])}))}}]);